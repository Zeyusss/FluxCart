<mat-sidenav-container>
  <mat-sidenav mode="side" opened="true">
    <div class="p-6">
      <h2 class="text-gray-900 text-lg capitalize text-center">Categories</h2>
    </div>
    <mat-nav-list>
      <mat-list-item [activated]="store.slug() === ''" [routerLink]="['/home', '']"
        ><span class="capitalize font-medium" [class]="store.slug() === '' ? '!text-white' : null"
          >All</span
        ></mat-list-item
      >
      @for (category of store.categories(); track category) {
      <mat-list-item
        [activated]="category === store.slug()"
        class="my-2"
        [routerLink]="['/home', category]"
      >
        <span
          matListItemTitle
          class="capitalize font-medium"
          [class]="category === store.slug() ? '!text-white' : null"
        >
          {{ category }}
        </span>
      </mat-list-item>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="bg-gray-100 p-6">
    <h1 class="text-2xl font-bold text-gray-900 mb-6 capitalize">
      @if (store.slug()) { {{ store.slug() }}}@else { All Products }
    </h1>
    <p class="text-base text-gray-600 mb-6">{{ store.filteredProducts().length }} products found</p>
    <div class="responsive-grid">
      @if (!store.loading()) { @for (product of store.filteredProducts(); track product._id) {
      <app-product-card [product]="product">
        <app-toggle-wishlist-button class="!absolute z-10 top-3 right-3" [product]="product" />
      </app-product-card>
      } }@else { @for (product of cardSkeletons; track $index) {
      <app-card-skeleton />
      } }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
